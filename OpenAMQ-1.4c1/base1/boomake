#!/bin/sh
#
#   Boom builder for iMatix Base1 1.2e0
#   Generated by iMatix Boom from product.pwl
#   
#   Copyright (c) 1996-2009 iMatix Corporation
#   All rights reserved.
#   
#   This file is licensed under the BSD license as follows:
#   
#   Redistribution and use in source and binary forms, with or without
#   modification, are permitted provided that the following conditions
#   are met:
#   
#   * Redistributions of source code must retain the above copyright
#     notice, this list of conditions and the following disclaimer.
#   * Redistributions in binary form must reproduce the above copyright
#     notice, this list of conditions and the following disclaimer in
#     the documentation and/or other materials provided with the
#     distribution.
#   * Neither the name of iMatix Corporation nor the names of its
#     contributors may be used to endorse or promote products derived
#     from this software without specific prior written permission.
#   
#   THIS SOFTWARE IS PROVIDED BY IMATIX CORPORATION "AS IS" AND ANY
#   EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
#   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
#   PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL IMATIX CORPORATION BE
#   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
#   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
#   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
#   BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
#   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
#   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
#   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
#
#   Force environment variables to point to install location
#   Start by using final IBASE, then handle local -install path
#
boom_model_list () {
    set |
        awk 'BEGIN                      { FS="[=_]" }
             /^BOOM_MODEL_[A-Z0-9]*=1$/ { print $3  }'
}
boom_model_expand () {
    for MODEL in `boom_model_list`; do
        eval unset BOOM_MODEL_$MODEL
    done
    OLD_IFS=$IFS
    IFS=,
    for MODEL in $BOOM_MODEL; do
        MODEL=`echo $MODEL | tr \[a-z\] \[A-Z\]`
        eval BOOM_MODEL_$MODEL=1
        eval export BOOM_MODEL_$MODEL
    done
    IFS=$OLD_IFS
}
croak() {
    if [ -n "$*" ]; then
        echo "boom E: [base1]: $* - stop" 1>&2
    else
        echo "boom E: [base1]: stop" 1>&2
    fi
    exit 1
}
carp() {
    echo "boom I: [base1]: $*" 1>&2
}
trap 'croak "Interrupted"' INT
trap 'croak "Terminated"' TERM
trap 'croak "Quit"' QUIT
self=$0
MY_VERSION="1.2e0"
#
#   Set default values for BOOM_MODEL
#
#   Default is release,mt on all platforms.
#
if [ -z "$BOOM_MODEL" ]; then
    BOOM_MODEL=release,mt
fi
boom_model_expand
if [ "$BOOM_MODEL_RELEASE" != "1" ]; then
    if [ "$BOOM_MODEL_DEBUG" != "1" ]; then
        BOOM_MODEL_RELEASE=1
        BOOM_MODEL="$BOOM_MODEL,release"
    fi
fi
if [ "$BOOM_MODEL_ST" != "1" ]; then
    if [ "$BOOM_MODEL_MT" != "1" ]; then
            BOOM_MODEL="$BOOM_MODEL,mt"
    fi
fi
if [ -z "$IBASE" ]; then
    carp "The IBASE variable is not set.  Please set it to the location where iMatix Base1 should be installed."
    exit 1
fi
if [ "$1" = "-v" ]; then
    BOOM_TRACE=1
    export BOOM_TRACE
    shift
fi
if [ "$1" != "-install" ]; then
    #   Normal use, use IBASE
    PATH=.:$IBASE/bin:$PATH; export PATH
    PERLLIB=.:$IBASE/bin:$PERLLIB; export PERLLIB
    INCDIR_ALT=$IBASE/include; export INCDIR_ALT
    _LOCAL_BASE=
    _INSTALL_ROOT=$IBASE
else
    #   Building product, we use -install directory first, then IBASE
    CURDIR=`pwd`
    cd $2
    _LOCAL_BASE=`pwd`
    cd $CURDIR
    PATH=.:$_LOCAL_BASE/bin:$IBASE/bin:$PATH; export PATH
    PERLLIB=.:$_LOCAL_BASE/bin:$IBASE/bin:$PERLLIB; export PERLLIB
    INCDIR_ALT=$_LOCAL_BASE/include:$IBASE/include; export INCDIR_ALT
    shift
    shift
    _INSTALL_ROOT=$_LOCAL_BASE
fi

# ----------------------------   ALLGEN PROJECTS   ----------------------------

a_allgen_projects() {
:
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake allgen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
}

# --------------------   BUILD PRODUCT INSTALL PACKAGES   ---------------------

a_build_product_install_packages() {
:
    carp "Building Base Install..."
    rm -rf _install
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake -install ../_install install || croak
    else
        carp "Project has not been built - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake -install ../_install install || croak
    else
        carp "Project has not been built - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake -install ../_install install || croak
    else
        carp "Project has not been built - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake -install ../_install install || croak
    else
        carp "Project has not been built - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake -install ../_install install || croak
    else
        carp "Project has not been built - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake -install ../_install install || croak
    else
        carp "Project has not been built - boomake is missing"
    fi
    cd $PUSHDIR
    mv _install base1-$MY_VERSION
    [ "$BOOM_TRACE" ] && echo "pkg_tgz base1-$MY_VERSION"
    pkg_tgz base1-$MY_VERSION || croak "\"pkg_tgz base1-$MY_VERSION\" failed"
    rm -rf base1-$MY_VERSION
}

# ---------------------   BUILD PRODUCT SOURCE PACKAGES   ---------------------

a_build_product_source_packages() {
:
    rm -f _package.lst
    if [ -f "project.pdl" ]; then
        echo project.pdl>>_package.lst
    fi
    if [ -f "readme.txt" ]; then
        echo readme.txt>>_package.lst
    fi
    if [ -f "release.txt" ]; then
        echo release.txt>>_package.lst
    fi
    if [ -f "stamp_generate" ]; then
        echo stamp_generate>>_package.lst
    fi
    if [ -f "boomakew.bat" ]; then
        echo boomakew.bat>>_package.lst
    fi
    if [ -f "configure" ]; then
        echo configure>>_package.lst
    fi
    if [ -f "Makefile.unix" ]; then
        echo Makefile.unix>>_package.lst
    fi
    if [ -f "boomake" ]; then
        echo boomake>>_package.lst
    fi
    if [ -f "configure.bat" ]; then
        echo configure.bat>>_package.lst
    fi
    if [ -f "Makefile.win32" ]; then
        echo Makefile.win32>>_package.lst
    fi
    if [ -f "boomake.bat" ]; then
        echo boomake.bat>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd boom
    cd $PUSHDIR
    if [ -f "boom/boom_ver.gsl" ]; then
        echo boom/boom_ver.gsl>>_package.lst
    fi
    if [ -f "boom/boom" ]; then
        echo boom/boom>>_package.lst
    fi
    if [ -f "boom/pkg_zip.bat" ]; then
        echo boom/pkg_zip.bat>>_package.lst
    fi
    if [ -f "boom/pkg_tgz" ]; then
        echo boom/pkg_tgz>>_package.lst
    fi
    if [ -f "boom/boom.gsl" ]; then
        echo boom/boom.gsl>>_package.lst
    fi
    if [ -f "boom/boom.bat" ]; then
        echo boom/boom.bat>>_package.lst
    fi
    if [ -f "boom/bootstrap.gsl" ]; then
        echo boom/bootstrap.gsl>>_package.lst
    fi
    if [ -f "boom/mkpdl.bat" ]; then
        echo boom/mkpdl.bat>>_package.lst
    fi
    if [ -f "boom/mkpdl" ]; then
        echo boom/mkpdl>>_package.lst
    fi
    if [ -f "boom/version" ]; then
        echo boom/version>>_package.lst
    fi
    if [ -f "boom/buildxnf.gsl" ]; then
        echo boom/buildxnf.gsl>>_package.lst
    fi
    if [ -f "boom/mod_xnf.gsl" ]; then
        echo boom/mod_xnf.gsl>>_package.lst
    fi
    if [ -f "boom/mod_pdl.gsl" ]; then
        echo boom/mod_pdl.gsl>>_package.lst
    fi
    if [ -f "boom/mod_pwl.gsl" ]; then
        echo boom/mod_pwl.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_win32.gsl" ]; then
        echo boom/pwl_win32.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_msvc.gsl" ]; then
        echo boom/pwl_msvc.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_msvc9.gsl" ]; then
        echo boom/pwl_msvc9.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_os2.gsl" ]; then
        echo boom/pwl_os2.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_unix.gsl" ]; then
        echo boom/pwl_unix.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_vms.gsl" ]; then
        echo boom/pwl_vms.gsl>>_package.lst
    fi
    if [ -f "boom/pwl_lib.gsl" ]; then
        echo boom/pwl_lib.gsl>>_package.lst
    fi
    if [ -f "boom/pdlparse.gsl" ]; then
        echo boom/pdlparse.gsl>>_package.lst
    fi
    if [ -f "boom/pwlparse.gsl" ]; then
        echo boom/pwlparse.gsl>>_package.lst
    fi
    if [ -f "boom/version.gsl" ]; then
        echo boom/version.gsl>>_package.lst
    fi
    if [ -f "boom/makefile.gsl" ]; then
        echo boom/makefile.gsl>>_package.lst
    fi
    if [ -f "boom/license.gsl" ]; then
        echo boom/license.gsl>>_package.lst
    fi
    if [ -f "boom/classes.pdl" ]; then
        echo boom/classes.pdl>>_package.lst
    fi
    if [ -f "boom/standard.pwl" ]; then
        echo boom/standard.pwl>>_package.lst
    fi
    if [ -f "boom/scripted.pwl" ]; then
        echo boom/scripted.pwl>>_package.lst
    fi
    if [ -f "boom/simple.pwl" ]; then
        echo boom/simple.pwl>>_package.lst
    fi
    if [ -f "boom/product.pwl" ]; then
        echo boom/product.pwl>>_package.lst
    fi
    if [ -f "boom/targets.pwl" ]; then
        echo boom/targets.pwl>>_package.lst
    fi
    if [ -f "boom/parsers.gsl" ]; then
        echo boom/parsers.gsl>>_package.lst
    fi
    if [ -f "boom/xnf.xnf" ]; then
        echo boom/xnf.xnf>>_package.lst
    fi
    if [ -f "boom/pdl.xnf" ]; then
        echo boom/pdl.xnf>>_package.lst
    fi
    if [ -f "boom/pwl.xnf" ]; then
        echo boom/pwl.xnf>>_package.lst
    fi
    if [ -f "boom/boom.txt" ]; then
        echo boom/boom.txt>>_package.lst
    fi
    if [ -f "boom/gdstyle.css" ]; then
        echo boom/gdstyle.css>>_package.lst
    fi
    if [ -f "boom/mainlogo.jpg" ]; then
        echo boom/mainlogo.jpg>>_package.lst
    fi
    if [ -f "boom/boom.html" ]; then
        echo boom/boom.html>>_package.lst
    fi
    if [ -f "boom/boom_1.html" ]; then
        echo boom/boom_1.html>>_package.lst
    fi
    if [ -f "boom/boom_2.html" ]; then
        echo boom/boom_2.html>>_package.lst
    fi
    if [ -f "boom/boom_3.html" ]; then
        echo boom/boom_3.html>>_package.lst
    fi
    if [ -f "boom/boom_bot.html" ]; then
        echo boom/boom_bot.html>>_package.lst
    fi
    if [ -f "boom/boom_toc.html" ]; then
        echo boom/boom_toc.html>>_package.lst
    fi
    if [ -f "boom/boom_top.html" ]; then
        echo boom/boom_top.html>>_package.lst
    fi
    if [ -f "boom/prelude.pdl" ]; then
        echo boom/prelude.pdl>>_package.lst
    fi
    if [ -f "boom/license.gpl" ]; then
        echo boom/license.gpl>>_package.lst
    fi
    if [ -f "boom/project.pdl" ]; then
        echo boom/project.pdl>>_package.lst
    fi
    if [ -f "boom/readme.txt" ]; then
        echo boom/readme.txt>>_package.lst
    fi
    if [ -f "boom/stamp_generate" ]; then
        echo boom/stamp_generate>>_package.lst
    fi
    if [ -f "boom/boomakew.bat" ]; then
        echo boom/boomakew.bat>>_package.lst
    fi
    if [ -f "boom/configure" ]; then
        echo boom/configure>>_package.lst
    fi
    if [ -f "boom/Makefile.unix" ]; then
        echo boom/Makefile.unix>>_package.lst
    fi
    if [ -f "boom/boomake" ]; then
        echo boom/boomake>>_package.lst
    fi
    if [ -f "boom/configure.bat" ]; then
        echo boom/configure.bat>>_package.lst
    fi
    if [ -f "boom/Makefile.win32" ]; then
        echo boom/Makefile.win32>>_package.lst
    fi
    if [ -f "boom/boomake.bat" ]; then
        echo boom/boomake.bat>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd htmlpp
    cd $PUSHDIR
    if [ -f "htmlpp/htmlppver.pl" ]; then
        echo htmlpp/htmlppver.pl>>_package.lst
    fi
    if [ -f "htmlpp/htmlpp" ]; then
        echo htmlpp/htmlpp>>_package.lst
    fi
    if [ -f "htmlpp/guru.def" ]; then
        echo htmlpp/guru.def>>_package.lst
    fi
    if [ -f "htmlpp/contents.def" ]; then
        echo htmlpp/contents.def>>_package.lst
    fi
    if [ -f "htmlpp/macros.def" ]; then
        echo htmlpp/macros.def>>_package.lst
    fi
    if [ -f "htmlpp/filetype.def" ]; then
        echo htmlpp/filetype.def>>_package.lst
    fi
    if [ -f "htmlpp/guru_opt.fmt" ]; then
        echo htmlpp/guru_opt.fmt>>_package.lst
    fi
    if [ -f "htmlpp/gurutst.txt" ]; then
        echo htmlpp/gurutst.txt>>_package.lst
    fi
    if [ -f "htmlpp/findfile.pl" ]; then
        echo htmlpp/findfile.pl>>_package.lst
    fi
    if [ -f "htmlpp/sflcvdp.pl" ]; then
        echo htmlpp/sflcvdp.pl>>_package.lst
    fi
    if [ -f "htmlpp/sfldate.pl" ]; then
        echo htmlpp/sfldate.pl>>_package.lst
    fi
    if [ -f "htmlpp/shellwd.pl" ]; then
        echo htmlpp/shellwd.pl>>_package.lst
    fi
    if [ -f "htmlpp/textdb.pl" ]; then
        echo htmlpp/textdb.pl>>_package.lst
    fi
    if [ -f "htmlpp/prelude.pdl" ]; then
        echo htmlpp/prelude.pdl>>_package.lst
    fi
    if [ -f "htmlpp/license.gpl" ]; then
        echo htmlpp/license.gpl>>_package.lst
    fi
    if [ -f "htmlpp/project.pdl" ]; then
        echo htmlpp/project.pdl>>_package.lst
    fi
    if [ -f "htmlpp/readme.txt" ]; then
        echo htmlpp/readme.txt>>_package.lst
    fi
    if [ -f "htmlpp/htmlpp.l" ]; then
        echo htmlpp/htmlpp.l>>_package.lst
    fi
    if [ -f "htmlpp/htmlpp.d" ]; then
        echo htmlpp/htmlpp.d>>_package.lst
    fi
    if [ -f "htmlpp/htmlpp.bat" ]; then
        echo htmlpp/htmlpp.bat>>_package.lst
    fi
    if [ -f "htmlpp/stamp_generate" ]; then
        echo htmlpp/stamp_generate>>_package.lst
    fi
    if [ -f "htmlpp/boomakew.bat" ]; then
        echo htmlpp/boomakew.bat>>_package.lst
    fi
    if [ -f "htmlpp/configure" ]; then
        echo htmlpp/configure>>_package.lst
    fi
    if [ -f "htmlpp/Makefile.unix" ]; then
        echo htmlpp/Makefile.unix>>_package.lst
    fi
    if [ -f "htmlpp/boomake" ]; then
        echo htmlpp/boomake>>_package.lst
    fi
    if [ -f "htmlpp/configure.bat" ]; then
        echo htmlpp/configure.bat>>_package.lst
    fi
    if [ -f "htmlpp/Makefile.win32" ]; then
        echo htmlpp/Makefile.win32>>_package.lst
    fi
    if [ -f "htmlpp/boomake.bat" ]; then
        echo htmlpp/boomake.bat>>_package.lst
    fi
    if [ -f "htmlpp/template/contents.def" ]; then
        echo htmlpp/template/contents.def>>_package.lst
    fi
    if [ -f "htmlpp/template/filetype.def" ]; then
        echo htmlpp/template/filetype.def>>_package.lst
    fi
    if [ -f "htmlpp/template/prelude.def" ]; then
        echo htmlpp/template/prelude.def>>_package.lst
    fi
    if [ -f "htmlpp/template/template.txt" ]; then
        echo htmlpp/template/template.txt>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd gurudoc
    cd $PUSHDIR
    if [ -f "gurudoc/guruver.gsl" ]; then
        echo gurudoc/guruver.gsl>>_package.lst
    fi
    if [ -f "gurudoc/guruver.pl" ]; then
        echo gurudoc/guruver.pl>>_package.lst
    fi
    if [ -f "gurudoc/gdl.txt" ]; then
        echo gurudoc/gdl.txt>>_package.lst
    fi
    if [ -f "gurudoc/gdl.xnf" ]; then
        echo gurudoc/gdl.xnf>>_package.lst
    fi
    if [ -f "gurudoc/gdlcode.gsl" ]; then
        echo gurudoc/gdlcode.gsl>>_package.lst
    fi
    if [ -f "gurudoc/gdlparse.gsl" ]; then
        echo gurudoc/gdlparse.gsl>>_package.lst
    fi
    if [ -f "gurudoc/gurudoc.gsl" ]; then
        echo gurudoc/gurudoc.gsl>>_package.lst
    fi
    if [ -f "gurudoc/mkgdl" ]; then
        echo gurudoc/mkgdl>>_package.lst
    fi
    if [ -f "gurudoc/mkgdl.bat" ]; then
        echo gurudoc/mkgdl.bat>>_package.lst
    fi
    if [ -f "gurudoc/gurudoc" ]; then
        echo gurudoc/gurudoc>>_package.lst
    fi
    if [ -f "gurudoc/gurudoc.bat" ]; then
        echo gurudoc/gurudoc.bat>>_package.lst
    fi
    if [ -f "gurudoc/mod_gdl.gsl" ]; then
        echo gurudoc/mod_gdl.gsl>>_package.lst
    fi
    if [ -f "gurudoc/gd2xhtml" ]; then
        echo gurudoc/gd2xhtml>>_package.lst
    fi
    if [ -f "gurudoc/gd2xhtml.bat" ]; then
        echo gurudoc/gd2xhtml.bat>>_package.lst
    fi
    if [ -f "gurudoc/test_html_frame.gsl" ]; then
        echo gurudoc/test_html_frame.gsl>>_package.lst
    fi
    if [ -f "gurudoc/html_frame.gsl" ]; then
        echo gurudoc/html_frame.gsl>>_package.lst
    fi
    if [ -f "gurudoc/html_simple.gsl" ]; then
        echo gurudoc/html_simple.gsl>>_package.lst
    fi
    if [ -f "gurudoc/html_multi.gsl" ]; then
        echo gurudoc/html_multi.gsl>>_package.lst
    fi
    if [ -f "gurudoc/html_library.gsl" ]; then
        echo gurudoc/html_library.gsl>>_package.lst
    fi
    if [ -f "gurudoc/txt_simple.gsl" ]; then
        echo gurudoc/txt_simple.gsl>>_package.lst
    fi
    if [ -f "gurudoc/rtf_simple.gsl" ]; then
        echo gurudoc/rtf_simple.gsl>>_package.lst
    fi
    if [ -f "gurudoc/latex_simple.gsl" ]; then
        echo gurudoc/latex_simple.gsl>>_package.lst
    fi
    if [ -f "gurudoc/mod_rtf.gsl" ]; then
        echo gurudoc/mod_rtf.gsl>>_package.lst
    fi
    if [ -f "gurudoc/texi_simple.gsl" ]; then
        echo gurudoc/texi_simple.gsl>>_package.lst
    fi
    if [ -f "gurudoc/groff_simple.gsl" ]; then
        echo gurudoc/groff_simple.gsl>>_package.lst
    fi
    if [ -f "gurudoc/ooo_document.gsl" ]; then
        echo gurudoc/ooo_document.gsl>>_package.lst
    fi
    if [ -f "gurudoc/ooo_whitepaper.gsl" ]; then
        echo gurudoc/ooo_whitepaper.gsl>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frame.htm" ]; then
        echo gurudoc/tpl_frame.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frame_body.htm" ]; then
        echo gurudoc/tpl_frame_body.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frame_bot.htm" ]; then
        echo gurudoc/tpl_frame_bot.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frame_top.htm" ]; then
        echo gurudoc/tpl_frame_top.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frame_toc.htm" ]; then
        echo gurudoc/tpl_frame_toc.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_simple.htm" ]; then
        echo gurudoc/tpl_simple.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_document.sxw" ]; then
        echo gurudoc/tpl_document.sxw>>_package.lst
    fi
    if [ -f "gurudoc/tpl_whitepaper.sxw" ]; then
        echo gurudoc/tpl_whitepaper.sxw>>_package.lst
    fi
    if [ -f "gurudoc/tpl_latex.tex" ]; then
        echo gurudoc/tpl_latex.tex>>_package.lst
    fi
    if [ -f "gurudoc/html_frameset.gsl" ]; then
        echo gurudoc/html_frameset.gsl>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frameset.htm" ]; then
        echo gurudoc/tpl_frameset.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frameset_body.htm" ]; then
        echo gurudoc/tpl_frameset_body.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frameset_bot.htm" ]; then
        echo gurudoc/tpl_frameset_bot.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frameset_top.htm" ]; then
        echo gurudoc/tpl_frameset_top.htm>>_package.lst
    fi
    if [ -f "gurudoc/tpl_frameset_toc.htm" ]; then
        echo gurudoc/tpl_frameset_toc.htm>>_package.lst
    fi
    if [ -f "gurudoc/wikidot.gsl" ]; then
        echo gurudoc/wikidot.gsl>>_package.lst
    fi
    if [ -f "gurudoc/gddoc.txt" ]; then
        echo gurudoc/gddoc.txt>>_package.lst
    fi
    if [ -f "gurudoc/gddoc.gdl" ]; then
        echo gurudoc/gddoc.gdl>>_package.lst
    fi
    if [ "`echo gurudoc/gddoc*.html`" != "gurudoc/gddoc*.html" ]; then
        for file in `echo gurudoc/gddoc*.html`; do
            echo $file>>_package.lst
        done
    fi
    if [ -f "gurudoc/mainlogo.jpg" ]; then
        echo gurudoc/mainlogo.jpg>>_package.lst
    fi
    if [ -f "gurudoc/gdstyle.css" ]; then
        echo gurudoc/gdstyle.css>>_package.lst
    fi
    if [ -f "gurudoc/prelude.pdl" ]; then
        echo gurudoc/prelude.pdl>>_package.lst
    fi
    if [ -f "gurudoc/license.gpl" ]; then
        echo gurudoc/license.gpl>>_package.lst
    fi
    if [ -f "gurudoc/project.pdl" ]; then
        echo gurudoc/project.pdl>>_package.lst
    fi
    if [ -f "gurudoc/readme.txt" ]; then
        echo gurudoc/readme.txt>>_package.lst
    fi
    if [ -f "gurudoc/stamp_generate" ]; then
        echo gurudoc/stamp_generate>>_package.lst
    fi
    if [ -f "gurudoc/boomakew.bat" ]; then
        echo gurudoc/boomakew.bat>>_package.lst
    fi
    if [ -f "gurudoc/configure" ]; then
        echo gurudoc/configure>>_package.lst
    fi
    if [ -f "gurudoc/Makefile.unix" ]; then
        echo gurudoc/Makefile.unix>>_package.lst
    fi
    if [ -f "gurudoc/boomake" ]; then
        echo gurudoc/boomake>>_package.lst
    fi
    if [ -f "gurudoc/configure.bat" ]; then
        echo gurudoc/configure.bat>>_package.lst
    fi
    if [ -f "gurudoc/Makefile.win32" ]; then
        echo gurudoc/Makefile.win32>>_package.lst
    fi
    if [ -f "gurudoc/boomake.bat" ]; then
        echo gurudoc/boomake.bat>>_package.lst
    fi
    if [ -f "gurudoc/liblocal.vcproj" ]; then
        echo gurudoc/liblocal.vcproj>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd gaggle
    cd $PUSHDIR
    if [ -f "gaggle/framer" ]; then
        echo gaggle/framer>>_package.lst
    fi
    if [ -f "gaggle/framer.fmt" ]; then
        echo gaggle/framer.fmt>>_package.lst
    fi
    if [ -f "gaggle/srcdoc" ]; then
        echo gaggle/srcdoc>>_package.lst
    fi
    if [ -f "gaggle/srcdoc.fmt" ]; then
        echo gaggle/srcdoc.fmt>>_package.lst
    fi
    if [ -f "gaggle/srcdoc.man" ]; then
        echo gaggle/srcdoc.man>>_package.lst
    fi
    if [ -f "gaggle/objtype.gsl" ]; then
        echo gaggle/objtype.gsl>>_package.lst
    fi
    if [ -f "gaggle/framer.l" ]; then
        echo gaggle/framer.l>>_package.lst
    fi
    if [ -f "gaggle/framer.d" ]; then
        echo gaggle/framer.d>>_package.lst
    fi
    if [ -f "gaggle/framer.bat" ]; then
        echo gaggle/framer.bat>>_package.lst
    fi
    if [ -f "gaggle/srcdoc.l" ]; then
        echo gaggle/srcdoc.l>>_package.lst
    fi
    if [ -f "gaggle/srcdoc.d" ]; then
        echo gaggle/srcdoc.d>>_package.lst
    fi
    if [ -f "gaggle/srcdoc.bat" ]; then
        echo gaggle/srcdoc.bat>>_package.lst
    fi
    if [ -f "gaggle/stamp_generate" ]; then
        echo gaggle/stamp_generate>>_package.lst
    fi
    if [ -f "gaggle/boomakew.bat" ]; then
        echo gaggle/boomakew.bat>>_package.lst
    fi
    if [ -f "gaggle/configure" ]; then
        echo gaggle/configure>>_package.lst
    fi
    if [ -f "gaggle/Makefile.unix" ]; then
        echo gaggle/Makefile.unix>>_package.lst
    fi
    if [ -f "gaggle/boomake" ]; then
        echo gaggle/boomake>>_package.lst
    fi
    if [ -f "gaggle/configure.bat" ]; then
        echo gaggle/configure.bat>>_package.lst
    fi
    if [ -f "gaggle/Makefile.win32" ]; then
        echo gaggle/Makefile.win32>>_package.lst
    fi
    if [ -f "gaggle/boomake.bat" ]; then
        echo gaggle/boomake.bat>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd libero
    cd $PUSHDIR
    if [ -f "libero/version.h" ]; then
        echo libero/version.h>>_package.lst
    fi
    if [ -f "libero/lr.c" ]; then
        echo libero/lr.c>>_package.lst
    fi
    if [ -f "libero/lrcalc.c" ]; then
        echo libero/lrcalc.c>>_package.lst
    fi
    if [ -f "libero/lreval.c" ]; then
        echo libero/lreval.c>>_package.lst
    fi
    if [ -f "libero/lrcode.c" ]; then
        echo libero/lrcode.c>>_package.lst
    fi
    if [ -f "libero/lrload.c" ]; then
        echo libero/lrload.c>>_package.lst
    fi
    if [ -f "libero/lrdump.c" ]; then
        echo libero/lrdump.c>>_package.lst
    fi
    if [ -f "libero/lrfree.c" ]; then
        echo libero/lrfree.c>>_package.lst
    fi
    if [ -f "libero/lrsort.c" ]; then
        echo libero/lrsort.c>>_package.lst
    fi
    if [ -f "libero/lrglib.c" ]; then
        echo libero/lrglib.c>>_package.lst
    fi
    if [ -f "libero/lrlibr.c" ]; then
        echo libero/lrlibr.c>>_package.lst
    fi
    if [ -f "libero/lroptn.c" ]; then
        echo libero/lroptn.c>>_package.lst
    fi
    if [ -f "libero/lrsymb.c" ]; then
        echo libero/lrsymb.c>>_package.lst
    fi
    if [ -f "libero/lrpriv.h" ]; then
        echo libero/lrpriv.h>>_package.lst
    fi
    if [ -f "libero/lrschema.asm" ]; then
        echo libero/lrschema.asm>>_package.lst
    fi
    if [ -f "libero/lrschema.awk" ]; then
        echo libero/lrschema.awk>>_package.lst
    fi
    if [ -f "libero/lrschema.bsh" ]; then
        echo libero/lrschema.bsh>>_package.lst
    fi
    if [ -f "libero/lrschema.c" ]; then
        echo libero/lrschema.c>>_package.lst
    fi
    if [ -f "libero/lrschema.c99" ]; then
        echo libero/lrschema.c99>>_package.lst
    fi
    if [ -f "libero/lrschema.cob" ]; then
        echo libero/lrschema.cob>>_package.lst
    fi
    if [ -f "libero/lrschema.cpp" ]; then
        echo libero/lrschema.cpp>>_package.lst
    fi
    if [ -f "libero/lrschema.csh" ]; then
        echo libero/lrschema.csh>>_package.lst
    fi
    if [ -f "libero/lrschema.jav" ]; then
        echo libero/lrschema.jav>>_package.lst
    fi
    if [ -f "libero/lrschema.ksh" ]; then
        echo libero/lrschema.ksh>>_package.lst
    fi
    if [ -f "libero/lrschema.mst" ]; then
        echo libero/lrschema.mst>>_package.lst
    fi
    if [ -f "libero/lrschema.pas" ]; then
        echo libero/lrschema.pas>>_package.lst
    fi
    if [ -f "libero/lrschema.pl" ]; then
        echo libero/lrschema.pl>>_package.lst
    fi
    if [ -f "libero/lrservice.pl" ]; then
        echo libero/lrservice.pl>>_package.lst
    fi
    if [ -f "libero/lrschema.py" ]; then
        echo libero/lrschema.py>>_package.lst
    fi
    if [ -f "libero/lrschema.php" ]; then
        echo libero/lrschema.php>>_package.lst
    fi
    if [ -f "libero/lrschema.rex" ]; then
        echo libero/lrschema.rex>>_package.lst
    fi
    if [ -f "libero/lrschema.sh" ]; then
        echo libero/lrschema.sh>>_package.lst
    fi
    if [ -f "libero/lrschema.sql" ]; then
        echo libero/lrschema.sql>>_package.lst
    fi
    if [ -f "libero/lrschema.vb" ]; then
        echo libero/lrschema.vb>>_package.lst
    fi
    if [ -f "libero/lrmesg.txt" ]; then
        echo libero/lrmesg.txt>>_package.lst
    fi
    if [ -f "libero/prelude.h" ]; then
        echo libero/prelude.h>>_package.lst
    fi
    if [ -f "libero/lr.ini" ]; then
        echo libero/lr.ini>>_package.lst
    fi
    if [ -f "libero/lr_eg.ini" ]; then
        echo libero/lr_eg.ini>>_package.lst
    fi
    if [ -f "libero/template" ]; then
        echo libero/template>>_package.lst
    fi
    if [ -f "libero/prelude.pdl" ]; then
        echo libero/prelude.pdl>>_package.lst
    fi
    if [ -f "libero/license.gpl" ]; then
        echo libero/license.gpl>>_package.lst
    fi
    if [ -f "libero/project.pdl" ]; then
        echo libero/project.pdl>>_package.lst
    fi
    if [ -f "libero/readme.txt" ]; then
        echo libero/readme.txt>>_package.lst
    fi
    if [ -f "libero/lrcalc.l" ]; then
        echo libero/lrcalc.l>>_package.lst
    fi
    if [ -f "libero/lrcalc.i" ]; then
        echo libero/lrcalc.i>>_package.lst
    fi
    if [ -f "libero/lrcalc.d" ]; then
        echo libero/lrcalc.d>>_package.lst
    fi
    if [ -f "libero/lreval.l" ]; then
        echo libero/lreval.l>>_package.lst
    fi
    if [ -f "libero/lreval.i" ]; then
        echo libero/lreval.i>>_package.lst
    fi
    if [ -f "libero/lreval.d" ]; then
        echo libero/lreval.d>>_package.lst
    fi
    if [ -f "libero/lrcode.l" ]; then
        echo libero/lrcode.l>>_package.lst
    fi
    if [ -f "libero/lrcode.i" ]; then
        echo libero/lrcode.i>>_package.lst
    fi
    if [ -f "libero/lrcode.d" ]; then
        echo libero/lrcode.d>>_package.lst
    fi
    if [ -f "libero/lrload.l" ]; then
        echo libero/lrload.l>>_package.lst
    fi
    if [ -f "libero/lrload.i" ]; then
        echo libero/lrload.i>>_package.lst
    fi
    if [ -f "libero/lrload.d" ]; then
        echo libero/lrload.d>>_package.lst
    fi
    if [ -f "libero/lrglib.h" ]; then
        echo libero/lrglib.h>>_package.lst
    fi
    if [ -f "libero/lrlibr.h" ]; then
        echo libero/lrlibr.h>>_package.lst
    fi
    if [ -f "libero/lroptn.h" ]; then
        echo libero/lroptn.h>>_package.lst
    fi
    if [ -f "libero/lrsymb.h" ]; then
        echo libero/lrsymb.h>>_package.lst
    fi
    if [ -f "libero/stamp_generate" ]; then
        echo libero/stamp_generate>>_package.lst
    fi
    if [ -f "libero/boomakew.bat" ]; then
        echo libero/boomakew.bat>>_package.lst
    fi
    if [ -f "libero/configure" ]; then
        echo libero/configure>>_package.lst
    fi
    if [ -f "libero/Makefile.unix" ]; then
        echo libero/Makefile.unix>>_package.lst
    fi
    if [ -f "libero/boomake" ]; then
        echo libero/boomake>>_package.lst
    fi
    if [ -f "libero/configure.bat" ]; then
        echo libero/configure.bat>>_package.lst
    fi
    if [ -f "libero/Makefile.win32" ]; then
        echo libero/Makefile.win32>>_package.lst
    fi
    if [ -f "libero/boomake.bat" ]; then
        echo libero/boomake.bat>>_package.lst
    fi
    if [ -f "libero/lr.vcproj" ]; then
        echo libero/lr.vcproj>>_package.lst
    fi
    if [ -f "libero/liblr.vcproj" ]; then
        echo libero/liblr.vcproj>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd sfl
    cd $PUSHDIR
    if [ -f "sfl/version.h" ]; then
        echo sfl/version.h>>_package.lst
    fi
    if [ -f "sfl/prelude.h" ]; then
        echo sfl/prelude.h>>_package.lst
    fi
    if [ -f "sfl/sflhead.h" ]; then
        echo sfl/sflhead.h>>_package.lst
    fi
    if [ -f "sfl/sflbits.c" ]; then
        echo sfl/sflbits.c>>_package.lst
    fi
    if [ -f "sfl/sflcomp.c" ]; then
        echo sfl/sflcomp.c>>_package.lst
    fi
    if [ -f "sfl/sflcons.c" ]; then
        echo sfl/sflcons.c>>_package.lst
    fi
    if [ -f "sfl/sflconv.c" ]; then
        echo sfl/sflconv.c>>_package.lst
    fi
    if [ -f "sfl/sflcryp.c" ]; then
        echo sfl/sflcryp.c>>_package.lst
    fi
    if [ -f "sfl/sfldate.c" ]; then
        echo sfl/sfldate.c>>_package.lst
    fi
    if [ -f "sfl/sfldescr.c" ]; then
        echo sfl/sfldescr.c>>_package.lst
    fi
    if [ -f "sfl/sfldir.c" ]; then
        echo sfl/sfldir.c>>_package.lst
    fi
    if [ -f "sfl/sflenv.c" ]; then
        echo sfl/sflenv.c>>_package.lst
    fi
    if [ -f "sfl/sflexdr.c" ]; then
        echo sfl/sflexdr.c>>_package.lst
    fi
    if [ -f "sfl/sflfile.c" ]; then
        echo sfl/sflfile.c>>_package.lst
    fi
    if [ -f "sfl/sflfind.c" ]; then
        echo sfl/sflfind.c>>_package.lst
    fi
    if [ -f "sfl/sflfort.c" ]; then
        echo sfl/sflfort.c>>_package.lst
    fi
    if [ -f "sfl/sflheap.c" ]; then
        echo sfl/sflheap.c>>_package.lst
    fi
    if [ -f "sfl/sflhttp.c" ]; then
        echo sfl/sflhttp.c>>_package.lst
    fi
    if [ -f "sfl/sflini.c" ]; then
        echo sfl/sflini.c>>_package.lst
    fi
    if [ -f "sfl/sfllang.c" ]; then
        echo sfl/sfllang.c>>_package.lst
    fi
    if [ -f "sfl/sfllbuf.c" ]; then
        echo sfl/sfllbuf.c>>_package.lst
    fi
    if [ -f "sfl/sfllist.c" ]; then
        echo sfl/sfllist.c>>_package.lst
    fi
    if [ -f "sfl/sflmail.c" ]; then
        echo sfl/sflmail.c>>_package.lst
    fi
    if [ -f "sfl/sflmath.c" ]; then
        echo sfl/sflmath.c>>_package.lst
    fi
    if [ -f "sfl/sflmem.c" ]; then
        echo sfl/sflmem.c>>_package.lst
    fi
    if [ -f "sfl/sflmesg.c" ]; then
        echo sfl/sflmesg.c>>_package.lst
    fi
    if [ -f "sfl/sflmime.c" ]; then
        echo sfl/sflmime.c>>_package.lst
    fi
    if [ -f "sfl/sflnode.c" ]; then
        echo sfl/sflnode.c>>_package.lst
    fi
    if [ -f "sfl/sflprint.c" ]; then
        echo sfl/sflprint.c>>_package.lst
    fi
    if [ -f "sfl/sflproc.c" ]; then
        echo sfl/sflproc.c>>_package.lst
    fi
    if [ -f "sfl/sflsearch.c" ]; then
        echo sfl/sflsearch.c>>_package.lst
    fi
    if [ -f "sfl/sflsha.c" ]; then
        echo sfl/sflsha.c>>_package.lst
    fi
    if [ -f "sfl/sflslot.c" ]; then
        echo sfl/sflslot.c>>_package.lst
    fi
    if [ -f "sfl/sflsort.c" ]; then
        echo sfl/sflsort.c>>_package.lst
    fi
    if [ -f "sfl/sflstr.c" ]; then
        echo sfl/sflstr.c>>_package.lst
    fi
    if [ -f "sfl/sflsymb.c" ]; then
        echo sfl/sflsymb.c>>_package.lst
    fi
    if [ -f "sfl/sflsyst.c" ]; then
        echo sfl/sflsyst.c>>_package.lst
    fi
    if [ -f "sfl/sfltok.c" ]; then
        echo sfl/sfltok.c>>_package.lst
    fi
    if [ -f "sfl/sfltree.c" ]; then
        echo sfl/sfltree.c>>_package.lst
    fi
    if [ -f "sfl/sfltron.c" ]; then
        echo sfl/sfltron.c>>_package.lst
    fi
    if [ -f "sfl/sfluid.c" ]; then
        echo sfl/sfluid.c>>_package.lst
    fi
    if [ -f "sfl/sflxml.c" ]; then
        echo sfl/sflxml.c>>_package.lst
    fi
    if [ -f "sfl/sflxmll.c" ]; then
        echo sfl/sflxmll.c>>_package.lst
    fi
    if [ -f "sfl/sflxmls.c" ]; then
        echo sfl/sflxmls.c>>_package.lst
    fi
    if [ -f "sfl/sflsock.c" ]; then
        echo sfl/sflsock.c>>_package.lst
    fi
    if [ -f "sfl/sflcvbs.c" ]; then
        echo sfl/sflcvbs.c>>_package.lst
    fi
    if [ -f "sfl/sflcvdp.c" ]; then
        echo sfl/sflcvdp.c>>_package.lst
    fi
    if [ -f "sfl/sflcvds.c" ]; then
        echo sfl/sflcvds.c>>_package.lst
    fi
    if [ -f "sfl/sflcvns.c" ]; then
        echo sfl/sflcvns.c>>_package.lst
    fi
    if [ -f "sfl/sflcvsb.c" ]; then
        echo sfl/sflcvsb.c>>_package.lst
    fi
    if [ -f "sfl/sflcvsd.c" ]; then
        echo sfl/sflcvsd.c>>_package.lst
    fi
    if [ -f "sfl/sflcvsn.c" ]; then
        echo sfl/sflcvsn.c>>_package.lst
    fi
    if [ -f "sfl/sflcvst.c" ]; then
        echo sfl/sflcvst.c>>_package.lst
    fi
    if [ -f "sfl/sflcvtp.c" ]; then
        echo sfl/sflcvtp.c>>_package.lst
    fi
    if [ -f "sfl/sflcvts.c" ]; then
        echo sfl/sflcvts.c>>_package.lst
    fi
    if [ -f "sfl/sflscrit.c" ]; then
        echo sfl/sflscrit.c>>_package.lst
    fi
    if [ -f "sfl/sflproco.imp" ]; then
        echo sfl/sflproco.imp>>_package.lst
    fi
    if [ -f "sfl/sflprocu.imp" ]; then
        echo sfl/sflprocu.imp>>_package.lst
    fi
    if [ -f "sfl/sflprocv.imp" ]; then
        echo sfl/sflprocv.imp>>_package.lst
    fi
    if [ -f "sfl/sflprocw.imp" ]; then
        echo sfl/sflprocw.imp>>_package.lst
    fi
    if [ -f "sfl/sflprocx.h" ]; then
        echo sfl/sflprocx.h>>_package.lst
    fi
    if [ -f "sfl/sflprocx.imp" ]; then
        echo sfl/sflprocx.imp>>_package.lst
    fi
    if [ -f "sfl/testall.c" ]; then
        echo sfl/testall.c>>_package.lst
    fi
    if [ -f "sfl/testbits.c" ]; then
        echo sfl/testbits.c>>_package.lst
    fi
    if [ -f "sfl/testcgi.c" ]; then
        echo sfl/testcgi.c>>_package.lst
    fi
    if [ -f "sfl/testcomp.c" ]; then
        echo sfl/testcomp.c>>_package.lst
    fi
    if [ -f "sfl/testconv.c" ]; then
        echo sfl/testconv.c>>_package.lst
    fi
    if [ -f "sfl/testcryp.c" ]; then
        echo sfl/testcryp.c>>_package.lst
    fi
    if [ -f "sfl/testdate.c" ]; then
        echo sfl/testdate.c>>_package.lst
    fi
    if [ -f "sfl/testdir.c" ]; then
        echo sfl/testdir.c>>_package.lst
    fi
    if [ -f "sfl/testenv.c" ]; then
        echo sfl/testenv.c>>_package.lst
    fi
    if [ -f "sfl/testexdr.c" ]; then
        echo sfl/testexdr.c>>_package.lst
    fi
    if [ -f "sfl/testfile.c" ]; then
        echo sfl/testfile.c>>_package.lst
    fi
    if [ -f "sfl/testfind.c" ]; then
        echo sfl/testfind.c>>_package.lst
    fi
    if [ -f "sfl/testfort.c" ]; then
        echo sfl/testfort.c>>_package.lst
    fi
    if [ -f "sfl/testheap.c" ]; then
        echo sfl/testheap.c>>_package.lst
    fi
    if [ -f "sfl/testhttp.c" ]; then
        echo sfl/testhttp.c>>_package.lst
    fi
    if [ -f "sfl/testini.c" ]; then
        echo sfl/testini.c>>_package.lst
    fi
    if [ -f "sfl/testlang.c" ]; then
        echo sfl/testlang.c>>_package.lst
    fi
    if [ -f "sfl/testmem.c" ]; then
        echo sfl/testmem.c>>_package.lst
    fi
    if [ -f "sfl/testmime.c" ]; then
        echo sfl/testmime.c>>_package.lst
    fi
    if [ -f "sfl/testproc.c" ]; then
        echo sfl/testproc.c>>_package.lst
    fi
    if [ -f "sfl/teststr.c" ]; then
        echo sfl/teststr.c>>_package.lst
    fi
    if [ -f "sfl/testsym.c" ]; then
        echo sfl/testsym.c>>_package.lst
    fi
    if [ -f "sfl/testtok.c" ]; then
        echo sfl/testtok.c>>_package.lst
    fi
    if [ -f "sfl/testtree.c" ]; then
        echo sfl/testtree.c>>_package.lst
    fi
    if [ -f "sfl/testtron.c" ]; then
        echo sfl/testtron.c>>_package.lst
    fi
    if [ -f "sfl/testuid.c" ]; then
        echo sfl/testuid.c>>_package.lst
    fi
    if [ -f "sfl/testxml.c" ]; then
        echo sfl/testxml.c>>_package.lst
    fi
    if [ -f "sfl/testxmls.c" ]; then
        echo sfl/testxmls.c>>_package.lst
    fi
    if [ -f "sfl/testsearch.c" ]; then
        echo sfl/testsearch.c>>_package.lst
    fi
    if [ -f "sfl/testconv.dat" ]; then
        echo sfl/testconv.dat>>_package.lst
    fi
    if [ -f "sfl/testfort.txt" ]; then
        echo sfl/testfort.txt>>_package.lst
    fi
    if [ -f "sfl/dos2unix.c" ]; then
        echo sfl/dos2unix.c>>_package.lst
    fi
    if [ -f "sfl/prelude.pdl" ]; then
        echo sfl/prelude.pdl>>_package.lst
    fi
    if [ -f "sfl/license.gpl" ]; then
        echo sfl/license.gpl>>_package.lst
    fi
    if [ -f "sfl/project.pdl" ]; then
        echo sfl/project.pdl>>_package.lst
    fi
    if [ -f "sfl/readme.txt" ]; then
        echo sfl/readme.txt>>_package.lst
    fi
    if [ -f "sfl/sflbits.h" ]; then
        echo sfl/sflbits.h>>_package.lst
    fi
    if [ -f "sfl/sflcomp.h" ]; then
        echo sfl/sflcomp.h>>_package.lst
    fi
    if [ -f "sfl/sflcons.h" ]; then
        echo sfl/sflcons.h>>_package.lst
    fi
    if [ -f "sfl/sflconv.h" ]; then
        echo sfl/sflconv.h>>_package.lst
    fi
    if [ -f "sfl/sflcryp.h" ]; then
        echo sfl/sflcryp.h>>_package.lst
    fi
    if [ -f "sfl/sfldate.h" ]; then
        echo sfl/sfldate.h>>_package.lst
    fi
    if [ -f "sfl/sfldescr.h" ]; then
        echo sfl/sfldescr.h>>_package.lst
    fi
    if [ -f "sfl/sfldir.h" ]; then
        echo sfl/sfldir.h>>_package.lst
    fi
    if [ -f "sfl/sflenv.h" ]; then
        echo sfl/sflenv.h>>_package.lst
    fi
    if [ -f "sfl/sflexdr.h" ]; then
        echo sfl/sflexdr.h>>_package.lst
    fi
    if [ -f "sfl/sflfile.h" ]; then
        echo sfl/sflfile.h>>_package.lst
    fi
    if [ -f "sfl/sflfind.h" ]; then
        echo sfl/sflfind.h>>_package.lst
    fi
    if [ -f "sfl/sflfort.h" ]; then
        echo sfl/sflfort.h>>_package.lst
    fi
    if [ -f "sfl/sflheap.h" ]; then
        echo sfl/sflheap.h>>_package.lst
    fi
    if [ -f "sfl/sflhttp.h" ]; then
        echo sfl/sflhttp.h>>_package.lst
    fi
    if [ -f "sfl/sflini.h" ]; then
        echo sfl/sflini.h>>_package.lst
    fi
    if [ -f "sfl/sfllang.h" ]; then
        echo sfl/sfllang.h>>_package.lst
    fi
    if [ -f "sfl/sfllbuf.h" ]; then
        echo sfl/sfllbuf.h>>_package.lst
    fi
    if [ -f "sfl/sfllist.h" ]; then
        echo sfl/sfllist.h>>_package.lst
    fi
    if [ -f "sfl/sflmail.h" ]; then
        echo sfl/sflmail.h>>_package.lst
    fi
    if [ -f "sfl/sflmath.h" ]; then
        echo sfl/sflmath.h>>_package.lst
    fi
    if [ -f "sfl/sflmem.h" ]; then
        echo sfl/sflmem.h>>_package.lst
    fi
    if [ -f "sfl/sflmesg.h" ]; then
        echo sfl/sflmesg.h>>_package.lst
    fi
    if [ -f "sfl/sflmime.h" ]; then
        echo sfl/sflmime.h>>_package.lst
    fi
    if [ -f "sfl/sflnode.h" ]; then
        echo sfl/sflnode.h>>_package.lst
    fi
    if [ -f "sfl/sflprint.h" ]; then
        echo sfl/sflprint.h>>_package.lst
    fi
    if [ -f "sfl/sflproc.h" ]; then
        echo sfl/sflproc.h>>_package.lst
    fi
    if [ -f "sfl/sflsearch.h" ]; then
        echo sfl/sflsearch.h>>_package.lst
    fi
    if [ -f "sfl/sflsha.h" ]; then
        echo sfl/sflsha.h>>_package.lst
    fi
    if [ -f "sfl/sflslot.h" ]; then
        echo sfl/sflslot.h>>_package.lst
    fi
    if [ -f "sfl/sflsort.h" ]; then
        echo sfl/sflsort.h>>_package.lst
    fi
    if [ -f "sfl/sflstr.h" ]; then
        echo sfl/sflstr.h>>_package.lst
    fi
    if [ -f "sfl/sflsymb.h" ]; then
        echo sfl/sflsymb.h>>_package.lst
    fi
    if [ -f "sfl/sflsyst.h" ]; then
        echo sfl/sflsyst.h>>_package.lst
    fi
    if [ -f "sfl/sfltok.h" ]; then
        echo sfl/sfltok.h>>_package.lst
    fi
    if [ -f "sfl/sfltree.h" ]; then
        echo sfl/sfltree.h>>_package.lst
    fi
    if [ -f "sfl/sfltron.h" ]; then
        echo sfl/sfltron.h>>_package.lst
    fi
    if [ -f "sfl/sfluid.h" ]; then
        echo sfl/sfluid.h>>_package.lst
    fi
    if [ -f "sfl/sflxml.h" ]; then
        echo sfl/sflxml.h>>_package.lst
    fi
    if [ -f "sfl/sflxmll.h" ]; then
        echo sfl/sflxmll.h>>_package.lst
    fi
    if [ -f "sfl/sflxmls.h" ]; then
        echo sfl/sflxmls.h>>_package.lst
    fi
    if [ -f "sfl/sflsock.h" ]; then
        echo sfl/sflsock.h>>_package.lst
    fi
    if [ -f "sfl/sflcvst.l" ]; then
        echo sfl/sflcvst.l>>_package.lst
    fi
    if [ -f "sfl/sflcvst.i" ]; then
        echo sfl/sflcvst.i>>_package.lst
    fi
    if [ -f "sfl/sflcvst.d" ]; then
        echo sfl/sflcvst.d>>_package.lst
    fi
    if [ -f "sfl/sflscrit.l" ]; then
        echo sfl/sflscrit.l>>_package.lst
    fi
    if [ -f "sfl/sflscrit.i" ]; then
        echo sfl/sflscrit.i>>_package.lst
    fi
    if [ -f "sfl/sflscrit.d" ]; then
        echo sfl/sflscrit.d>>_package.lst
    fi
    if [ -f "sfl/sfl.h" ]; then
        echo sfl/sfl.h>>_package.lst
    fi
    if [ -f "sfl/stamp_generate" ]; then
        echo sfl/stamp_generate>>_package.lst
    fi
    if [ -f "sfl/boomakew.bat" ]; then
        echo sfl/boomakew.bat>>_package.lst
    fi
    if [ -f "sfl/configure" ]; then
        echo sfl/configure>>_package.lst
    fi
    if [ -f "sfl/Makefile.unix" ]; then
        echo sfl/Makefile.unix>>_package.lst
    fi
    if [ -f "sfl/boomake" ]; then
        echo sfl/boomake>>_package.lst
    fi
    if [ -f "sfl/configure.bat" ]; then
        echo sfl/configure.bat>>_package.lst
    fi
    if [ -f "sfl/Makefile.win32" ]; then
        echo sfl/Makefile.win32>>_package.lst
    fi
    if [ -f "sfl/boomake.bat" ]; then
        echo sfl/boomake.bat>>_package.lst
    fi
    if [ -f "sfl/libsfl.vcproj" ]; then
        echo sfl/libsfl.vcproj>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd smt
    cd $PUSHDIR
    if [ -f "smt/version.h" ]; then
        echo smt/version.h>>_package.lst
    fi
    if [ -f "smt/smtlib.c" ]; then
        echo smt/smtlib.c>>_package.lst
    fi
    if [ -f "smt/smtlib.h" ]; then
        echo smt/smtlib.h>>_package.lst
    fi
    if [ -f "smt/smtserv.c" ]; then
        echo smt/smtserv.c>>_package.lst
    fi
    if [ -f "smt/smttime.c" ]; then
        echo smt/smttime.c>>_package.lst
    fi
    if [ -f "smt/smtecho.c" ]; then
        echo smt/smtecho.c>>_package.lst
    fi
    if [ -f "smt/smtlog.c" ]; then
        echo smt/smtlog.c>>_package.lst
    fi
    if [ -f "smt/smtxlog.c" ]; then
        echo smt/smtxlog.c>>_package.lst
    fi
    if [ -f "smt/smtoper.c" ]; then
        echo smt/smtoper.c>>_package.lst
    fi
    if [ -f "smt/smtpipe.c" ]; then
        echo smt/smtpipe.c>>_package.lst
    fi
    if [ -f "smt/smtpop.c" ]; then
        echo smt/smtpop.c>>_package.lst
    fi
    if [ -f "smt/smtrdns.c" ]; then
        echo smt/smtrdns.c>>_package.lst
    fi
    if [ -f "smt/smtrdnsl.c" ]; then
        echo smt/smtrdnsl.c>>_package.lst
    fi
    if [ -f "smt/smtsimu.c" ]; then
        echo smt/smtsimu.c>>_package.lst
    fi
    if [ -f "smt/smtsimu.h" ]; then
        echo smt/smtsimu.h>>_package.lst
    fi
    if [ -f "smt/smtslot.c" ]; then
        echo smt/smtslot.c>>_package.lst
    fi
    if [ -f "smt/smtsmtp.c" ]; then
        echo smt/smtsmtp.c>>_package.lst
    fi
    if [ -f "smt/smtsock.c" ]; then
        echo smt/smtsock.c>>_package.lst
    fi
    if [ -f "smt/smttran.c" ]; then
        echo smt/smttran.c>>_package.lst
    fi
    if [ -f "smt/smttst1.c" ]; then
        echo smt/smttst1.c>>_package.lst
    fi
    if [ -f "smt/smttst2.c" ]; then
        echo smt/smttst2.c>>_package.lst
    fi
    if [ -f "smt/smttst3.c" ]; then
        echo smt/smttst3.c>>_package.lst
    fi
    if [ -f "smt/smtmem.h" ]; then
        echo smt/smtmem.h>>_package.lst
    fi
    if [ -f "smt/smtdefn.h" ]; then
        echo smt/smtdefn.h>>_package.lst
    fi
    if [ -f "smt/smthead.h" ]; then
        echo smt/smthead.h>>_package.lst
    fi
    if [ -f "smt/smtpriv.h" ]; then
        echo smt/smtpriv.h>>_package.lst
    fi
    if [ -f "smt/smtxlog.h" ]; then
        echo smt/smtxlog.h>>_package.lst
    fi
    if [ -f "smt/echocli.c" ]; then
        echo smt/echocli.c>>_package.lst
    fi
    if [ -f "smt/echod.c" ]; then
        echo smt/echod.c>>_package.lst
    fi
    if [ -f "smt/smtschm.c" ]; then
        echo smt/smtschm.c>>_package.lst
    fi
    if [ -f "smt/smttest.gsl" ]; then
        echo smt/smttest.gsl>>_package.lst
    fi
    if [ -f "smt/smtexdr.gsl" ]; then
        echo smt/smtexdr.gsl>>_package.lst
    fi
    if [ -f "smt/smtmesg.gsl" ]; then
        echo smt/smtmesg.gsl>>_package.lst
    fi
    if [ -f "smt/smtmsg.xml" ]; then
        echo smt/smtmsg.xml>>_package.lst
    fi
    if [ -f "smt/smtsslm.xml" ]; then
        echo smt/smtsslm.xml>>_package.lst
    fi
    if [ -f "smt/sysman.c" ]; then
        echo smt/sysman.c>>_package.lst
    fi
    if [ -f "smt/syscli.c" ]; then
        echo smt/syscli.c>>_package.lst
    fi
    if [ -f "smt/sysmana.c" ]; then
        echo smt/sysmana.c>>_package.lst
    fi
    if [ -f "smt/sysclia.c" ]; then
        echo smt/sysclia.c>>_package.lst
    fi
    if [ -f "smt/sysman.h" ]; then
        echo smt/sysman.h>>_package.lst
    fi
    if [ -f "smt/tstpop.c" ]; then
        echo smt/tstpop.c>>_package.lst
    fi
    if [ -f "smt/tstpop.l" ]; then
        echo smt/tstpop.l>>_package.lst
    fi
    if [ -f "smt/tstpop.cfg" ]; then
        echo smt/tstpop.cfg>>_package.lst
    fi
    if [ -f "smt/tstrdns.c" ]; then
        echo smt/tstrdns.c>>_package.lst
    fi
    if [ -f "smt/tstslot.c" ]; then
        echo smt/tstslot.c>>_package.lst
    fi
    if [ -f "smt/tstsmtp.c" ]; then
        echo smt/tstsmtp.c>>_package.lst
    fi
    if [ -f "smt/tstsmtp.l" ]; then
        echo smt/tstsmtp.l>>_package.lst
    fi
    if [ -f "smt/tstsmtp.cfg" ]; then
        echo smt/tstsmtp.cfg>>_package.lst
    fi
    if [ -f "smt/tstsock.c" ]; then
        echo smt/tstsock.c>>_package.lst
    fi
    if [ -f "smt/tsttime.c" ]; then
        echo smt/tsttime.c>>_package.lst
    fi
    if [ -f "smt/prelude.pdl" ]; then
        echo smt/prelude.pdl>>_package.lst
    fi
    if [ -f "smt/license.gpl" ]; then
        echo smt/license.gpl>>_package.lst
    fi
    if [ -f "smt/project.pdl" ]; then
        echo smt/project.pdl>>_package.lst
    fi
    if [ -f "smt/readme.txt" ]; then
        echo smt/readme.txt>>_package.lst
    fi
    if [ -f "smt/smtserv.h" ]; then
        echo smt/smtserv.h>>_package.lst
    fi
    if [ -f "smt/smttime.h" ]; then
        echo smt/smttime.h>>_package.lst
    fi
    if [ -f "smt/smtecho.l" ]; then
        echo smt/smtecho.l>>_package.lst
    fi
    if [ -f "smt/smtecho.i" ]; then
        echo smt/smtecho.i>>_package.lst
    fi
    if [ -f "smt/smtecho.d" ]; then
        echo smt/smtecho.d>>_package.lst
    fi
    if [ -f "smt/smtlog.l" ]; then
        echo smt/smtlog.l>>_package.lst
    fi
    if [ -f "smt/smtlog.i" ]; then
        echo smt/smtlog.i>>_package.lst
    fi
    if [ -f "smt/smtlog.d" ]; then
        echo smt/smtlog.d>>_package.lst
    fi
    if [ -f "smt/smtxlog.l" ]; then
        echo smt/smtxlog.l>>_package.lst
    fi
    if [ -f "smt/smtxlog.i" ]; then
        echo smt/smtxlog.i>>_package.lst
    fi
    if [ -f "smt/smtxlog.d" ]; then
        echo smt/smtxlog.d>>_package.lst
    fi
    if [ -f "smt/smtoper.l" ]; then
        echo smt/smtoper.l>>_package.lst
    fi
    if [ -f "smt/smtoper.i" ]; then
        echo smt/smtoper.i>>_package.lst
    fi
    if [ -f "smt/smtoper.d" ]; then
        echo smt/smtoper.d>>_package.lst
    fi
    if [ -f "smt/smtpipe.l" ]; then
        echo smt/smtpipe.l>>_package.lst
    fi
    if [ -f "smt/smtpipe.i" ]; then
        echo smt/smtpipe.i>>_package.lst
    fi
    if [ -f "smt/smtpipe.d" ]; then
        echo smt/smtpipe.d>>_package.lst
    fi
    if [ -f "smt/smtpop.l" ]; then
        echo smt/smtpop.l>>_package.lst
    fi
    if [ -f "smt/smtpop.i" ]; then
        echo smt/smtpop.i>>_package.lst
    fi
    if [ -f "smt/smtpop.d" ]; then
        echo smt/smtpop.d>>_package.lst
    fi
    if [ -f "smt/smtrdns.l" ]; then
        echo smt/smtrdns.l>>_package.lst
    fi
    if [ -f "smt/smtrdns.i" ]; then
        echo smt/smtrdns.i>>_package.lst
    fi
    if [ -f "smt/smtrdns.d" ]; then
        echo smt/smtrdns.d>>_package.lst
    fi
    if [ -f "smt/smtrdnsl.h" ]; then
        echo smt/smtrdnsl.h>>_package.lst
    fi
    if [ -f "smt/smtsimu.l" ]; then
        echo smt/smtsimu.l>>_package.lst
    fi
    if [ -f "smt/smtsimu.i" ]; then
        echo smt/smtsimu.i>>_package.lst
    fi
    if [ -f "smt/smtsimu.d" ]; then
        echo smt/smtsimu.d>>_package.lst
    fi
    if [ -f "smt/smtslot.l" ]; then
        echo smt/smtslot.l>>_package.lst
    fi
    if [ -f "smt/smtslot.i" ]; then
        echo smt/smtslot.i>>_package.lst
    fi
    if [ -f "smt/smtslot.d" ]; then
        echo smt/smtslot.d>>_package.lst
    fi
    if [ -f "smt/smtsmtp.l" ]; then
        echo smt/smtsmtp.l>>_package.lst
    fi
    if [ -f "smt/smtsmtp.i" ]; then
        echo smt/smtsmtp.i>>_package.lst
    fi
    if [ -f "smt/smtsmtp.d" ]; then
        echo smt/smtsmtp.d>>_package.lst
    fi
    if [ -f "smt/smtsock.l" ]; then
        echo smt/smtsock.l>>_package.lst
    fi
    if [ -f "smt/smtsock.i" ]; then
        echo smt/smtsock.i>>_package.lst
    fi
    if [ -f "smt/smtsock.d" ]; then
        echo smt/smtsock.d>>_package.lst
    fi
    if [ -f "smt/smttran.l" ]; then
        echo smt/smttran.l>>_package.lst
    fi
    if [ -f "smt/smttran.i" ]; then
        echo smt/smttran.i>>_package.lst
    fi
    if [ -f "smt/smttran.d" ]; then
        echo smt/smttran.d>>_package.lst
    fi
    if [ -f "smt/smttst1.l" ]; then
        echo smt/smttst1.l>>_package.lst
    fi
    if [ -f "smt/smttst1.i" ]; then
        echo smt/smttst1.i>>_package.lst
    fi
    if [ -f "smt/smttst1.d" ]; then
        echo smt/smttst1.d>>_package.lst
    fi
    if [ -f "smt/smttst2.l" ]; then
        echo smt/smttst2.l>>_package.lst
    fi
    if [ -f "smt/smttst2.i" ]; then
        echo smt/smttst2.i>>_package.lst
    fi
    if [ -f "smt/smttst2.d" ]; then
        echo smt/smttst2.d>>_package.lst
    fi
    if [ -f "smt/smttst3.l" ]; then
        echo smt/smttst3.l>>_package.lst
    fi
    if [ -f "smt/smttst3.i" ]; then
        echo smt/smttst3.i>>_package.lst
    fi
    if [ -f "smt/smttst3.d" ]; then
        echo smt/smttst3.d>>_package.lst
    fi
    if [ -f "smt/smtmsg.c" ]; then
        echo smt/smtmsg.c>>_package.lst
    fi
    if [ -f "smt/smtmsg.h" ]; then
        echo smt/smtmsg.h>>_package.lst
    fi
    if [ -f "smt/smtsslm.c" ]; then
        echo smt/smtsslm.c>>_package.lst
    fi
    if [ -f "smt/smtsslm.h" ]; then
        echo smt/smtsslm.h>>_package.lst
    fi
    if [ -f "smt/sysmana.l" ]; then
        echo smt/sysmana.l>>_package.lst
    fi
    if [ -f "smt/sysmana.i" ]; then
        echo smt/sysmana.i>>_package.lst
    fi
    if [ -f "smt/sysmana.d" ]; then
        echo smt/sysmana.d>>_package.lst
    fi
    if [ -f "smt/sysclia.l" ]; then
        echo smt/sysclia.l>>_package.lst
    fi
    if [ -f "smt/sysclia.i" ]; then
        echo smt/sysclia.i>>_package.lst
    fi
    if [ -f "smt/sysclia.d" ]; then
        echo smt/sysclia.d>>_package.lst
    fi
    if [ -f "smt/tstpop.i" ]; then
        echo smt/tstpop.i>>_package.lst
    fi
    if [ -f "smt/tstpop.d" ]; then
        echo smt/tstpop.d>>_package.lst
    fi
    if [ -f "smt/tstsmtp.i" ]; then
        echo smt/tstsmtp.i>>_package.lst
    fi
    if [ -f "smt/tstsmtp.d" ]; then
        echo smt/tstsmtp.d>>_package.lst
    fi
    if [ -f "smt/smt3.h" ]; then
        echo smt/smt3.h>>_package.lst
    fi
    if [ -f "smt/stamp_generate" ]; then
        echo smt/stamp_generate>>_package.lst
    fi
    if [ -f "smt/boomakew.bat" ]; then
        echo smt/boomakew.bat>>_package.lst
    fi
    if [ -f "smt/configure" ]; then
        echo smt/configure>>_package.lst
    fi
    if [ -f "smt/Makefile.unix" ]; then
        echo smt/Makefile.unix>>_package.lst
    fi
    if [ -f "smt/boomake" ]; then
        echo smt/boomake>>_package.lst
    fi
    if [ -f "smt/configure.bat" ]; then
        echo smt/configure.bat>>_package.lst
    fi
    if [ -f "smt/Makefile.win32" ]; then
        echo smt/Makefile.win32>>_package.lst
    fi
    if [ -f "smt/boomake.bat" ]; then
        echo smt/boomake.bat>>_package.lst
    fi
    if [ -f "smt/libsmt3.vcproj" ]; then
        echo smt/libsmt3.vcproj>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd gsl2
    cd $PUSHDIR
    if [ -f "gsl2/version.h" ]; then
        echo gsl2/version.h>>_package.lst
    fi
    if [ -f "gsl2/gslgen.c" ]; then
        echo gsl2/gslgen.c>>_package.lst
    fi
    if [ -f "gsl2/gslgen.l" ]; then
        echo gsl2/gslgen.l>>_package.lst
    fi
    if [ -f "gsl2/ggcode.c" ]; then
        echo gsl2/ggcode.c>>_package.lst
    fi
    if [ -f "gsl2/ggcode.h" ]; then
        echo gsl2/ggcode.h>>_package.lst
    fi
    if [ -f "gsl2/ggcomm.c" ]; then
        echo gsl2/ggcomm.c>>_package.lst
    fi
    if [ -f "gsl2/ggeval.c" ]; then
        echo gsl2/ggeval.c>>_package.lst
    fi
    if [ -f "gsl2/ggfile.c" ]; then
        echo gsl2/ggfile.c>>_package.lst
    fi
    if [ -f "gsl2/ggfunc.c" ]; then
        echo gsl2/ggfunc.c>>_package.lst
    fi
    if [ -f "gsl2/ggjs.h" ]; then
        echo gsl2/ggjs.h>>_package.lst
    fi
    if [ -f "gsl2/ggobjt.c" ]; then
        echo gsl2/ggobjt.c>>_package.lst
    fi
    if [ -f "gsl2/ggstrn.c" ]; then
        echo gsl2/ggstrn.c>>_package.lst
    fi
    if [ -f "gsl2/ggpars.c" ]; then
        echo gsl2/ggpars.c>>_package.lst
    fi
    if [ -f "gsl2/ggmacro.gsl" ]; then
        echo gsl2/ggmacro.gsl>>_package.lst
    fi
    if [ -f "gsl2/ggreport.gsl" ]; then
        echo gsl2/ggreport.gsl>>_package.lst
    fi
    if [ -f "gsl2/gsldoc.txt" ]; then
        echo gsl2/gsldoc.txt>>_package.lst
    fi
    if [ -f "gsl2/prelude.def" ]; then
        echo gsl2/prelude.def>>_package.lst
    fi
    if [ -f "gsl2/macros.def" ]; then
        echo gsl2/macros.def>>_package.lst
    fi
    if [ -f "gsl2/gslgen.gif" ]; then
        echo gsl2/gslgen.gif>>_package.lst
    fi
    if [ -f "gsl2/im0096c.gif" ]; then
        echo gsl2/im0096c.gif>>_package.lst
    fi
    if [ -f "gsl2/prelude.pdl" ]; then
        echo gsl2/prelude.pdl>>_package.lst
    fi
    if [ -f "gsl2/license.gpl" ]; then
        echo gsl2/license.gpl>>_package.lst
    fi
    if [ -f "gsl2/project.pdl" ]; then
        echo gsl2/project.pdl>>_package.lst
    fi
    if [ -f "gsl2/readme.txt" ]; then
        echo gsl2/readme.txt>>_package.lst
    fi
    if [ -f "gsl2/gslgen.i" ]; then
        echo gsl2/gslgen.i>>_package.lst
    fi
    if [ -f "gsl2/gslgen.d" ]; then
        echo gsl2/gslgen.d>>_package.lst
    fi
    if [ -f "gsl2/ggcode.l" ]; then
        echo gsl2/ggcode.l>>_package.lst
    fi
    if [ -f "gsl2/ggcode.i" ]; then
        echo gsl2/ggcode.i>>_package.lst
    fi
    if [ -f "gsl2/ggcode.d" ]; then
        echo gsl2/ggcode.d>>_package.lst
    fi
    if [ -f "gsl2/ggcomm.h" ]; then
        echo gsl2/ggcomm.h>>_package.lst
    fi
    if [ -f "gsl2/ggeval.h" ]; then
        echo gsl2/ggeval.h>>_package.lst
    fi
    if [ -f "gsl2/ggfile.h" ]; then
        echo gsl2/ggfile.h>>_package.lst
    fi
    if [ -f "gsl2/ggfunc.h" ]; then
        echo gsl2/ggfunc.h>>_package.lst
    fi
    if [ -f "gsl2/ggobjt.h" ]; then
        echo gsl2/ggobjt.h>>_package.lst
    fi
    if [ -f "gsl2/ggstrn.h" ]; then
        echo gsl2/ggstrn.h>>_package.lst
    fi
    if [ -f "gsl2/ggpars.l" ]; then
        echo gsl2/ggpars.l>>_package.lst
    fi
    if [ -f "gsl2/ggpars.i" ]; then
        echo gsl2/ggpars.i>>_package.lst
    fi
    if [ -f "gsl2/ggpars.d" ]; then
        echo gsl2/ggpars.d>>_package.lst
    fi
    if [ -f "gsl2/ggpars.h" ]; then
        echo gsl2/ggpars.h>>_package.lst
    fi
    if [ -f "gsl2/stamp_generate" ]; then
        echo gsl2/stamp_generate>>_package.lst
    fi
    if [ -f "gsl2/boomakew.bat" ]; then
        echo gsl2/boomakew.bat>>_package.lst
    fi
    if [ -f "gsl2/configure" ]; then
        echo gsl2/configure>>_package.lst
    fi
    if [ -f "gsl2/Makefile.unix" ]; then
        echo gsl2/Makefile.unix>>_package.lst
    fi
    if [ -f "gsl2/boomake" ]; then
        echo gsl2/boomake>>_package.lst
    fi
    if [ -f "gsl2/configure.bat" ]; then
        echo gsl2/configure.bat>>_package.lst
    fi
    if [ -f "gsl2/Makefile.win32" ]; then
        echo gsl2/Makefile.win32>>_package.lst
    fi
    if [ -f "gsl2/boomake.bat" ]; then
        echo gsl2/boomake.bat>>_package.lst
    fi
    if [ -f "gsl2/gslgen.vcproj" ]; then
        echo gsl2/gslgen.vcproj>>_package.lst
    fi
    if [ -f "gsl2/libgsl.vcproj" ]; then
        echo gsl2/libgsl.vcproj>>_package.lst
    fi
    PUSHDIR=`pwd`
    cd gsl
    cd $PUSHDIR
    if [ -f "gsl/version.h" ]; then
        echo gsl/version.h>>_package.lst
    fi
    if [ -f "gsl/gsl3.c" ]; then
        echo gsl/gsl3.c>>_package.lst
    fi
    if [ -f "gsl/gsldb.c" ]; then
        echo gsl/gsldb.c>>_package.lst
    fi
    if [ -f "gsl/ggcode.xml" ]; then
        echo gsl/ggcode.xml>>_package.lst
    fi
    if [ -f "gsl/ggpars.xml" ]; then
        echo gsl/ggpars.xml>>_package.lst
    fi
    if [ -f "gsl/ggscrp.xml" ]; then
        echo gsl/ggscrp.xml>>_package.lst
    fi
    if [ -f "gsl/gghead.h" ]; then
        echo gsl/gghead.h>>_package.lst
    fi
    if [ -f "gsl/ggpriv.h" ]; then
        echo gsl/ggpriv.h>>_package.lst
    fi
    if [ -f "gsl/ggfunc.inc" ]; then
        echo gsl/ggfunc.inc>>_package.lst
    fi
    if [ -f "gsl/ggobjt.c" ]; then
        echo gsl/ggobjt.c>>_package.lst
    fi
    if [ -f "gsl/ggcomm.c" ]; then
        echo gsl/ggcomm.c>>_package.lst
    fi
    if [ -f "gsl/ggthrd.c" ]; then
        echo gsl/ggthrd.c>>_package.lst
    fi
    if [ -f "gsl/ggmail.c" ]; then
        echo gsl/ggmail.c>>_package.lst
    fi
    if [ -f "gsl/ggsock.c" ]; then
        echo gsl/ggsock.c>>_package.lst
    fi
    if [ -f "gsl/ggobjt.gsl" ]; then
        echo gsl/ggobjt.gsl>>_package.lst
    fi
    if [ -f "gsl/ggmacro.gsl" ]; then
        echo gsl/ggmacro.gsl>>_package.lst
    fi
    if [ -f "gsl/ggreport.gsl" ]; then
        echo gsl/ggreport.gsl>>_package.lst
    fi
    if [ -f "gsl/console.gsl" ]; then
        echo gsl/console.gsl>>_package.lst
    fi
    if [ -f "gsl/gsldoc.txt" ]; then
        echo gsl/gsldoc.txt>>_package.lst
    fi
    if [ -f "gsl/prelude.pdl" ]; then
        echo gsl/prelude.pdl>>_package.lst
    fi
    if [ -f "gsl/license.gpl" ]; then
        echo gsl/license.gpl>>_package.lst
    fi
    if [ -f "gsl/project.pdl" ]; then
        echo gsl/project.pdl>>_package.lst
    fi
    if [ -f "gsl/readme.txt" ]; then
        echo gsl/readme.txt>>_package.lst
    fi
    if [ -f "gsl/ggcode.l" ]; then
        echo gsl/ggcode.l>>_package.lst
    fi
    if [ -f "gsl/ggcode.i" ]; then
        echo gsl/ggcode.i>>_package.lst
    fi
    if [ -f "gsl/ggcode.d" ]; then
        echo gsl/ggcode.d>>_package.lst
    fi
    if [ -f "gsl/ggcode.c" ]; then
        echo gsl/ggcode.c>>_package.lst
    fi
    if [ -f "gsl/ggcode.h" ]; then
        echo gsl/ggcode.h>>_package.lst
    fi
    if [ -f "gsl/ggcodem.c" ]; then
        echo gsl/ggcodem.c>>_package.lst
    fi
    if [ -f "gsl/ggcodem.h" ]; then
        echo gsl/ggcodem.h>>_package.lst
    fi
    if [ -f "gsl/ggpars.l" ]; then
        echo gsl/ggpars.l>>_package.lst
    fi
    if [ -f "gsl/ggpars.i" ]; then
        echo gsl/ggpars.i>>_package.lst
    fi
    if [ -f "gsl/ggpars.d" ]; then
        echo gsl/ggpars.d>>_package.lst
    fi
    if [ -f "gsl/ggpars.c" ]; then
        echo gsl/ggpars.c>>_package.lst
    fi
    if [ -f "gsl/ggpars.h" ]; then
        echo gsl/ggpars.h>>_package.lst
    fi
    if [ -f "gsl/ggparsm.c" ]; then
        echo gsl/ggparsm.c>>_package.lst
    fi
    if [ -f "gsl/ggparsm.h" ]; then
        echo gsl/ggparsm.h>>_package.lst
    fi
    if [ -f "gsl/ggscrp.l" ]; then
        echo gsl/ggscrp.l>>_package.lst
    fi
    if [ -f "gsl/ggscrp.i" ]; then
        echo gsl/ggscrp.i>>_package.lst
    fi
    if [ -f "gsl/ggscrp.d" ]; then
        echo gsl/ggscrp.d>>_package.lst
    fi
    if [ -f "gsl/ggscrp.c" ]; then
        echo gsl/ggscrp.c>>_package.lst
    fi
    if [ -f "gsl/ggscrp.h" ]; then
        echo gsl/ggscrp.h>>_package.lst
    fi
    if [ -f "gsl/ggscrpm.c" ]; then
        echo gsl/ggscrpm.c>>_package.lst
    fi
    if [ -f "gsl/ggscrpm.h" ]; then
        echo gsl/ggscrpm.h>>_package.lst
    fi
    if [ -f "gsl/ggobjt.h" ]; then
        echo gsl/ggobjt.h>>_package.lst
    fi
    if [ -f "gsl/ggcomm.h" ]; then
        echo gsl/ggcomm.h>>_package.lst
    fi
    if [ -f "gsl/ggconv.c" ]; then
        echo gsl/ggconv.c>>_package.lst
    fi
    if [ -f "gsl/ggconv.h" ]; then
        echo gsl/ggconv.h>>_package.lst
    fi
    if [ -f "gsl/ggenvt.c" ]; then
        echo gsl/ggenvt.c>>_package.lst
    fi
    if [ -f "gsl/ggenvt.h" ]; then
        echo gsl/ggenvt.h>>_package.lst
    fi
    if [ -f "gsl/ggthrd.h" ]; then
        echo gsl/ggthrd.h>>_package.lst
    fi
    if [ -f "gsl/ggmath.c" ]; then
        echo gsl/ggmath.c>>_package.lst
    fi
    if [ -f "gsl/ggmath.h" ]; then
        echo gsl/ggmath.h>>_package.lst
    fi
    if [ -f "gsl/ggmail.l" ]; then
        echo gsl/ggmail.l>>_package.lst
    fi
    if [ -f "gsl/ggmail.i" ]; then
        echo gsl/ggmail.i>>_package.lst
    fi
    if [ -f "gsl/ggmail.d" ]; then
        echo gsl/ggmail.d>>_package.lst
    fi
    if [ -f "gsl/ggmail.h" ]; then
        echo gsl/ggmail.h>>_package.lst
    fi
    if [ -f "gsl/ggsock.l" ]; then
        echo gsl/ggsock.l>>_package.lst
    fi
    if [ -f "gsl/ggsock.i" ]; then
        echo gsl/ggsock.i>>_package.lst
    fi
    if [ -f "gsl/ggsock.d" ]; then
        echo gsl/ggsock.d>>_package.lst
    fi
    if [ -f "gsl/ggsock.h" ]; then
        echo gsl/ggsock.h>>_package.lst
    fi
    if [ -f "gsl/ggfile.c" ]; then
        echo gsl/ggfile.c>>_package.lst
    fi
    if [ -f "gsl/ggfile.h" ]; then
        echo gsl/ggfile.h>>_package.lst
    fi
    if [ -f "gsl/ggstrn.c" ]; then
        echo gsl/ggstrn.c>>_package.lst
    fi
    if [ -f "gsl/ggstrn.h" ]; then
        echo gsl/ggstrn.h>>_package.lst
    fi
    if [ -f "gsl/ggzip.c" ]; then
        echo gsl/ggzip.c>>_package.lst
    fi
    if [ -f "gsl/ggzip.h" ]; then
        echo gsl/ggzip.h>>_package.lst
    fi
    if [ -f "gsl/ggdate.c" ]; then
        echo gsl/ggdate.c>>_package.lst
    fi
    if [ -f "gsl/ggdate.h" ]; then
        echo gsl/ggdate.h>>_package.lst
    fi
    if [ -f "gsl/ggtime.c" ]; then
        echo gsl/ggtime.c>>_package.lst
    fi
    if [ -f "gsl/ggtime.h" ]; then
        echo gsl/ggtime.h>>_package.lst
    fi
    if [ -f "gsl/ggdir.c" ]; then
        echo gsl/ggdir.c>>_package.lst
    fi
    if [ -f "gsl/ggdir.h" ]; then
        echo gsl/ggdir.h>>_package.lst
    fi
    if [ -f "gsl/ggpcre.c" ]; then
        echo gsl/ggpcre.c>>_package.lst
    fi
    if [ -f "gsl/ggpcre.h" ]; then
        echo gsl/ggpcre.h>>_package.lst
    fi
    if [ -f "gsl/ggcons.c" ]; then
        echo gsl/ggcons.c>>_package.lst
    fi
    if [ -f "gsl/ggcons.h" ]; then
        echo gsl/ggcons.h>>_package.lst
    fi
    if [ -f "gsl/ggproc.c" ]; then
        echo gsl/ggproc.c>>_package.lst
    fi
    if [ -f "gsl/ggproc.h" ]; then
        echo gsl/ggproc.h>>_package.lst
    fi
    if [ -f "gsl/gsl3.h" ]; then
        echo gsl/gsl3.h>>_package.lst
    fi
    if [ -f "gsl/stamp_generate" ]; then
        echo gsl/stamp_generate>>_package.lst
    fi
    if [ -f "gsl/boomakew.bat" ]; then
        echo gsl/boomakew.bat>>_package.lst
    fi
    if [ -f "gsl/configure" ]; then
        echo gsl/configure>>_package.lst
    fi
    if [ -f "gsl/Makefile.unix" ]; then
        echo gsl/Makefile.unix>>_package.lst
    fi
    if [ -f "gsl/boomake" ]; then
        echo gsl/boomake>>_package.lst
    fi
    if [ -f "gsl/configure.bat" ]; then
        echo gsl/configure.bat>>_package.lst
    fi
    if [ -f "gsl/Makefile.win32" ]; then
        echo gsl/Makefile.win32>>_package.lst
    fi
    if [ -f "gsl/boomake.bat" ]; then
        echo gsl/boomake.bat>>_package.lst
    fi
    if [ -f "gsl/gsl3.vcproj" ]; then
        echo gsl/gsl3.vcproj>>_package.lst
    fi
    if [ -f "gsl/libgsl3.vcproj" ]; then
        echo gsl/libgsl3.vcproj>>_package.lst
    fi
    echo "Source package successfully generated">boom/stamp_source
    echo "boom/stamp_source" >>_package.lst
    echo "Source package successfully generated">htmlpp/stamp_source
    echo "htmlpp/stamp_source" >>_package.lst
    echo "Source package successfully generated">gurudoc/stamp_source
    echo "gurudoc/stamp_source" >>_package.lst
    echo "Source package successfully generated">gaggle/stamp_source
    echo "gaggle/stamp_source" >>_package.lst
    echo "Source package successfully generated">libero/stamp_source
    echo "libero/stamp_source" >>_package.lst
    echo "Source package successfully generated">sfl/stamp_source
    echo "sfl/stamp_source" >>_package.lst
    echo "Source package successfully generated">smt/stamp_source
    echo "smt/stamp_source" >>_package.lst
    echo "Source package successfully generated">gsl2/stamp_source
    echo "gsl2/stamp_source" >>_package.lst
    echo "Source package successfully generated">gsl/stamp_source
    echo "gsl/stamp_source" >>_package.lst
    echo "Source package successfully generated">stamp_source
    echo "stamp_source">>_package.lst
    carp "Building base1-$MY_VERSION-src.tar.gz..."
    zip  -rq _package.zip -@<_package.lst
    unzip -q _package.zip -d base1-$MY_VERSION
    rm -f base1-$MY_VERSION-src.tar.gz
    tar -cf  base1-$MY_VERSION-src.tar base1-$MY_VERSION
    gzip base1-$MY_VERSION-src.tar
    rm -f base1-$MY_VERSION-src.zip
    carp "Building base1-$MY_VERSION-src.zip..."
    zip -lrmq base1-$MY_VERSION-src.zip base1-$MY_VERSION
    rm _package.zip
    rm _package.lst
    rm stamp_source
    rm -f boom/stamp_source
    rm -f htmlpp/stamp_source
    rm -f gurudoc/stamp_source
    rm -f gaggle/stamp_source
    rm -f libero/stamp_source
    rm -f sfl/stamp_source
    rm -f smt/stamp_source
    rm -f gsl2/stamp_source
    rm -f gsl/stamp_source
}

# ----------------------------   BUILD PROJECTS   -----------------------------

a_build_projects() {
:
    rm -rf _install
    mkdir _install
    mkdir _install/lib
    mkdir _install/include
    mkdir _install/bin
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake -install ../_install build install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
}

# ------------------------   CHECK OPERATING CONTEXT   ------------------------

a_check_operating_context() {
:
    if [ -f ./stamp_stripped ]; then
        event=stripped
    elif [ -f ./stamp_source ]; then
        event=source
    else
        event=repository
    fi
}

# ----------------------------   CLEAN PROJECTS   -----------------------------

a_clean_projects() {
:
    rm -rf _install
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake clean || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    rm -f base1_*.zip
    rm -f base1_*.tar.gz
}

# ---------------------------   COMPILE PROJECTS   ----------------------------

a_compile_projects() {
:
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake compile || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
}

# ---------------------------   INSTALL PROJECTS   ----------------------------

a_install_projects() {
:
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake install || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    if [ -f ./installer ]; then
    [ "$BOOM_TRACE" ] && echo "sh ./installer"
    sh ./installer || croak "\"sh ./installer\" failed"
    fi
}

# ----------------------------   REGEN PROJECTS   -----------------------------

a_regen_projects() {
:
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake regen || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
}

# ------------------------   REPORT HELP INFORMATION   ------------------------

a_report_help_information() {
:
    echo "The commands you can currently use on this project are:"
    echo ""
    eval "actions_$state"
}

# ------------------------   REPORT PROJECT VERSION   -------------------------

a_report_project_version() {
:
    echo "base1-1.2e0"
}

# -----------------------------   TEST PROJECTS   -----------------------------

a_test_projects() {
:
    PUSHDIR=`pwd`
    cd boom
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd htmlpp
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gurudoc
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gaggle
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd libero
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd sfl
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd smt
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl2
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    PUSHDIR=`pwd`
    cd gsl
    if [ -f boomake ]; then
        sh boomake test || croak
    else
        croak "Project has not been configured - boomake is missing"
    fi
    cd $PUSHDIR
    if [ -f ./selftest ]; then
    [ "$BOOM_TRACE" ] && echo "sh ./selftest"
    sh ./selftest || croak "\"sh ./selftest\" failed"
    fi
}

# ----------------------   USE SOURCE CONTROL REVISION   ----------------------

a_use_source_control_revision() {
:
    if [ -d .svn ]; then
        SVN_REVISION="`svn info | awk '/^Revision:/ { print $2 }'`"
    else
        SVN_REVISION="svn"
    fi
    MY_VERSION=${MY_VERSION}-${SVN_REVISION}
}

actions_initial() {
    return
}

actions_initial_check() {
    return
}

actions_repository() {
echo "build:"
    echo "  For each project in the product, regenerate code and build binary"
    echo "    files ready for installation.  The projects are built in their"
    echo "    individual directories and installed into the temporary install tree."
echo "compile:"
    echo "  For each project in the product, build binary files ready for installation,"
    echo "    but don't run the code generation phase .  The projects are built in their"
    echo "    individual directories and installed into the temporary install tree."
echo "clean:"
    echo "  Deletes generated project files.  This action removes generated source"
    echo "    and binary files."
echo "regen:"
    echo "  For each project in the product, regenerate any source files that"
    echo "    are produced via GSL, Libero or another code generation tool."
    echo "    Generates only those files that are required to build under"
    echo "    the current model."
echo "allgen:"
    echo "  For each project in the product, regenerate any source files that"
    echo "    are produced via GSL, Libero or another code generation tool."
    echo "    Generates all files."
echo "distrib:"
    echo "  Build all projects and create full distribution packages.  If you do"
    echo "    not want to rebuild the projects, you can use the 'distsrc' and 'distbin'"
    echo "    actions as shortcuts."
echo "distsrc:"
    echo "  Build source distribution packages based on product version number."
echo "distrev:"
    echo "  Build source distribution packages based on source control revision"
    echo "    number."
actions_default
    return
}

actions_source() {
echo "build:"
    echo "  For each project in the product, build binary files ready for"
    echo "    installation.  The projects are built in their individual directories"
    echo "    and installed into the temporary install tree."
echo "clean:"
    echo "  Deletes generated project files.  This action removes generated binary"
    echo "    files."
echo "regen:"
    echo "  For each project in the product, regenerate any source files that"
    echo "    are produced via GSL, Libero or another code generation tool."
    echo "    Generates only those files that are required to build under"
    echo "    the current model."
echo "allgen:"
    echo "  For each project in the product, regenerate any source files that"
    echo "    are produced via GSL, Libero or another code generation tool."
    echo "    Generates all files."
actions_default
    return
}

actions_stripped() {
echo "build:"
    echo "  For each project in the product, build binary files ready for"
    echo "    installation.  The projects are built in their individual directories"
    echo "    and installed into the temporary install tree."
echo "clean:"
    echo "  Deletes generated project files.  This action removes generated binary"
    echo "    files."
actions_default
    return
}

actions_default() {
echo "install:"
    echo "  Install each project into its target directory.  The projects must"
    echo "    have been built (and installed into the temporary install tree, which"
    echo "    is what the build action does)."
echo "distbin:"
    echo "  Build binary distribution packages.  The actual packages built depend on"
    echo "    the project packagers used, but typically you will get a ZIP or TGZ file"
    echo "    containing all the projects' deliverables.  Note that this action works"
    echo "    entirely from the temporary install tree, which the 'build' action makes."
echo "test:"
    echo "  Runs each project's test process."
echo "help:"
    echo "  Shows a list of the commands allowed on the project."
echo "version:"
    echo "  Show product version."
    return
}

#   State machine starts here
#
firsttime=true
while [ "$1" -o "$firsttime" ]; do
  firsttime=
  state=initial
  event=ok
  debug=
  export state event debug
  while [ -n "$state" ]; do
    if [ "$inherit_state" ]; then
        check_state=$inherit_state
        inherit_state=
    else
        check_state=$state
    fi
    case "$check_state" in
    initial)
        if [ -n "$debug" ]; then
            echo "State: initial"
        fi
        case "$event" in
        "")
            if [ -n "$debug" ]; then
                echo "Get event from user"
            fi
            if [ "$1" ]; then
                event=$1
                shift
            else
                event=empty
            fi
            continue
        ;;
        ok)
            if [ -n "$debug" ]; then
                echo "Event: ok"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: check operating context"
            fi
            if [ -z "$exception" ]; then
                a_check_operating_context
            fi
            state=initial_check
            if [ -n "$exception" ]; then
                continue
            fi
        ;;
        *)
            echo "Unknown command - use one of:"
            echo ""
            eval "actions_$state"
            exit 1
        ;;
        esac
    ;;
    initial_check)
        if [ -n "$debug" ]; then
            echo "State: initial check"
        fi
        case "$event" in
        "")
            if [ -n "$debug" ]; then
                echo "Get event from user"
            fi
            if [ "$1" ]; then
                event=$1
                shift
            else
                event=empty
            fi
            continue
        ;;
        repository)
            if [ -n "$debug" ]; then
                echo "Event: repository"
            fi
            event=
            exception=
            state=repository
            if [ -n "$exception" ]; then
                continue
            fi
        ;;
        source)
            if [ -n "$debug" ]; then
                echo "Event: source"
            fi
            event=
            exception=
            state=source
            if [ -n "$exception" ]; then
                continue
            fi
        ;;
        stripped)
            if [ -n "$debug" ]; then
                echo "Event: stripped"
            fi
            event=
            exception=
            state=stripped
            if [ -n "$exception" ]; then
                continue
            fi
        ;;
        *)
            echo "Unknown command - use one of:"
            echo ""
            eval "actions_$state"
            exit 1
        ;;
        esac
    ;;
    repository)
        if [ -n "$debug" ]; then
            echo "State: repository"
        fi
        case "$event" in
        "")
            if [ -n "$debug" ]; then
                echo "Get event from user"
            fi
            if [ "$1" ]; then
                event=$1
                shift
            else
                event=empty
            fi
            continue
        ;;
        build)
            if [ -n "$debug" ]; then
                echo "Event: build"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: build projects"
            fi
            if [ -z "$exception" ]; then
                a_build_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        compile)
            if [ -n "$debug" ]; then
                echo "Event: compile"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: compile projects"
            fi
            if [ -z "$exception" ]; then
                a_compile_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        clean)
            if [ -n "$debug" ]; then
                echo "Event: clean"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: clean projects"
            fi
            if [ -z "$exception" ]; then
                a_clean_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        regen)
            if [ -n "$debug" ]; then
                echo "Event: regen"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: regen projects"
            fi
            if [ -z "$exception" ]; then
                a_regen_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        allgen)
            if [ -n "$debug" ]; then
                echo "Event: allgen"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: allgen projects"
            fi
            if [ -z "$exception" ]; then
                a_allgen_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        distrib)
            if [ -n "$debug" ]; then
                echo "Event: distrib"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: build projects"
            fi
            if [ -z "$exception" ]; then
                a_build_projects
            fi
            if [ -n "$debug" ]; then
                echo "Action: build product source packages"
            fi
            if [ -z "$exception" ]; then
                a_build_product_source_packages
            fi
            if [ -n "$debug" ]; then
                echo "Action: build product install packages"
            fi
            if [ -z "$exception" ]; then
                a_build_product_install_packages
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        distsrc)
            if [ -n "$debug" ]; then
                echo "Event: distsrc"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: allgen projects"
            fi
            if [ -z "$exception" ]; then
                a_allgen_projects
            fi
            if [ -n "$debug" ]; then
                echo "Action: build product source packages"
            fi
            if [ -z "$exception" ]; then
                a_build_product_source_packages
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        distrev)
            if [ -n "$debug" ]; then
                echo "Event: distrev"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: allgen projects"
            fi
            if [ -z "$exception" ]; then
                a_allgen_projects
            fi
            if [ -n "$debug" ]; then
                echo "Action: use source control revision"
            fi
            if [ -z "$exception" ]; then
                a_use_source_control_revision
            fi
            if [ -n "$debug" ]; then
                echo "Action: build product source packages"
            fi
            if [ -z "$exception" ]; then
                a_build_product_source_packages
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        *)
            inherit_state=default
        ;;
        esac
    ;;
    source)
        if [ -n "$debug" ]; then
            echo "State: source"
        fi
        case "$event" in
        "")
            if [ -n "$debug" ]; then
                echo "Get event from user"
            fi
            if [ "$1" ]; then
                event=$1
                shift
            else
                event=empty
            fi
            continue
        ;;
        build)
            if [ -n "$debug" ]; then
                echo "Event: build"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: build projects"
            fi
            if [ -z "$exception" ]; then
                a_build_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        clean)
            if [ -n "$debug" ]; then
                echo "Event: clean"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: clean projects"
            fi
            if [ -z "$exception" ]; then
                a_clean_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        regen)
            if [ -n "$debug" ]; then
                echo "Event: regen"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: regen projects"
            fi
            if [ -z "$exception" ]; then
                a_regen_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        allgen)
            if [ -n "$debug" ]; then
                echo "Event: allgen"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: allgen projects"
            fi
            if [ -z "$exception" ]; then
                a_allgen_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        *)
            inherit_state=default
        ;;
        esac
    ;;
    stripped)
        if [ -n "$debug" ]; then
            echo "State: stripped"
        fi
        case "$event" in
        "")
            if [ -n "$debug" ]; then
                echo "Get event from user"
            fi
            if [ "$1" ]; then
                event=$1
                shift
            else
                event=empty
            fi
            continue
        ;;
        build)
            if [ -n "$debug" ]; then
                echo "Event: build"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: build projects"
            fi
            if [ -z "$exception" ]; then
                a_build_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        clean)
            if [ -n "$debug" ]; then
                echo "Event: clean"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: clean projects"
            fi
            if [ -z "$exception" ]; then
                a_clean_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        *)
            inherit_state=default
        ;;
        esac
    ;;
    default)
        if [ -n "$debug" ]; then
            echo "State: default"
        fi
        case "$event" in
        "")
            if [ -n "$debug" ]; then
                echo "Get event from user"
            fi
            if [ "$1" ]; then
                event=$1
                shift
            else
                event=empty
            fi
            continue
        ;;
        install)
            if [ -n "$debug" ]; then
                echo "Event: install"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: install projects"
            fi
            if [ -z "$exception" ]; then
                a_install_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        distbin)
            if [ -n "$debug" ]; then
                echo "Event: distbin"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: build product install packages"
            fi
            if [ -z "$exception" ]; then
                a_build_product_install_packages
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        test)
            if [ -n "$debug" ]; then
                echo "Event: test"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: test projects"
            fi
            if [ -z "$exception" ]; then
                a_test_projects
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        help)
            if [ -n "$debug" ]; then
                echo "Event: help"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: report help information"
            fi
            if [ -z "$exception" ]; then
                a_report_help_information
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        version)
            if [ -n "$debug" ]; then
                echo "Event: version"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: report project version"
            fi
            if [ -z "$exception" ]; then
                a_report_project_version
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        empty)
            if [ -n "$debug" ]; then
                echo "Event: empty"
            fi
            event=
            exception=
            if [ -n "$debug" ]; then
                echo "Action: report help information"
            fi
            if [ -z "$exception" ]; then
                a_report_help_information
            fi
            if [ -n "$1" -a -z "$exception" ]; then
                continue 2
            fi
            state=
        ;;
        *)
            echo "Unknown command - use one of:"
            echo ""
            eval "actions_$state"
            exit 1
        ;;
        esac
    ;;
    esac
  done
done
